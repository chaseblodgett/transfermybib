{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PostForm(_ref){let{raceId,onNewPost,onCancel}=_ref;const[type,setType]=useState(\"Selling\");const[message,setMessage]=useState(\"\");const[name,setName]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();const newPost={raceId:raceId,type,message,user:name||\"Anonymous\"};setIsLoading(true);setError(\"\");try{const response=await fetch(\"/posts\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newPost)});if(!response.ok){throw new Error(\"Failed to create post\");}const savedPost=await response.json();onNewPost(savedPost);setMessage(\"\");setName(\"\");}catch(err){setError(\"Error creating post. Please try again later.\");console.error(err);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.formGroup,children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[\"Message:\",/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:e=>setMessage(e.target.value),required:true,style:styles.textarea})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroupRow,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.formGroup,children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true,placeholder:\"Enter your name\",style:styles.input})]})}),/*#__PURE__*/_jsx(\"div\",{style:styles.formGroup,children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[\"Type:\",/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Selling\",children:\"Selling\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Buying\",children:\"Buying\"})]})]})})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:error}),\" \",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",style:styles.button,disabled:isLoading,children:[isLoading?\"Posting...\":\"Post\",\" \"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.cancelButton,onClick:onCancel// Call the cancel function passed from the parent\n,children:\"Cancel\"})]});}const styles={form:{marginTop:\"20px\",padding:\"20px\",border:\"1px solid #ddd\",borderRadius:\"8px\",backgroundColor:\"#D5D5D5\",maxWidth:\"600px\",margin:\"20px auto\"},formGroup:{marginBottom:\"15px\",textAlign:\"left\"},formGroupRow:{display:\"flex\",justifyContent:\"space-around\",gap:\"5px\"},label:{display:\"block\",fontSize:\"1rem\",fontWeight:\"bold\",marginBottom:\"5px\"},input:{width:\"calc(100% - 10px)\",// Adjust width to allow space for padding\npadding:\"10px\",fontSize:\"1rem\",border:\"1px solid #ccc\",borderRadius:\"5px\",marginRight:\"5px\"},select:{width:\"100%\",padding:\"10px\",fontSize:\"1rem\",border:\"1px solid #ccc\",borderRadius:\"5px\"},textarea:{width:\"100%\",height:\"100px\",padding:\"10px\",fontSize:\"1rem\",border:\"1px solid #ccc\",borderRadius:\"5px\",resize:\"none\"},button:{display:\"block\",width:\"100%\",padding:\"10px\",fontSize:\"1.2rem\",backgroundColor:\"#A5CBC3\",color:\"#353839\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\",transition:\"background-color 0.3s ease\"},cancelButton:{display:\"block\",width:\"100%\",padding:\"10px\",fontSize:\"1.2rem\",color:\"#A5CBC3\",backgroundColor:\"#353839\",// Red background\nborder:\"none\",borderRadius:\"5px\",cursor:\"pointer\",marginTop:\"10px\",// Add margin for spacing\ntransition:\"background-color 0.3s ease\"},error:{color:\"red\",fontSize:\"1rem\",fontWeight:\"bold\",marginTop:\"10px\"}};export default PostForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PostForm","_ref","raceId","onNewPost","onCancel","type","setType","message","setMessage","name","setName","isLoading","setIsLoading","error","setError","handleSubmit","e","preventDefault","newPost","user","response","fetch","method","headers","body","JSON","stringify","ok","Error","savedPost","json","err","console","onSubmit","style","styles","form","children","formGroup","label","value","onChange","target","required","textarea","formGroupRow","placeholder","input","select","button","disabled","cancelButton","onClick","marginTop","padding","border","borderRadius","backgroundColor","maxWidth","margin","marginBottom","textAlign","display","justifyContent","gap","fontSize","fontWeight","width","marginRight","height","resize","color","cursor","transition"],"sources":["/Users/chaseblodgett/Documents/Projects/transfermybib/frontend/src/components/PostForm.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction PostForm({ raceId, onNewPost, onCancel }) {\n  const [type, setType] = useState(\"Selling\");\n  const [message, setMessage] = useState(\"\");\n  const [name, setName] = useState(\"\"); \n  const [isLoading, setIsLoading] = useState(false); \n  const [error, setError] = useState(\"\"); \n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const newPost = {\n      raceId: raceId,\n      type,\n      message,\n      user: name || \"Anonymous\", \n    };\n\n    setIsLoading(true);\n    setError(\"\"); \n\n    try {\n      const response = await fetch(\"/posts\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newPost),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to create post\");\n      }\n\n      const savedPost = await response.json();\n      onNewPost(savedPost);\n\n      setMessage(\"\");\n      setName(\"\"); \n    } catch (err) {\n      setError(\"Error creating post. Please try again later.\");\n      console.error(err);\n    } finally {\n      setIsLoading(false); \n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={styles.form}>\n      <div style={styles.formGroup}>\n        <label style={styles.label}>\n          Message:\n          <textarea\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            required\n            style={styles.textarea}\n          />\n        </label>\n      </div>\n      \n      <div style={styles.formGroupRow}>\n        <div style={styles.formGroup}>\n          <label style={styles.label}>\n            Name:\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n              placeholder=\"Enter your name\"\n              style={styles.input}\n            />\n          </label>\n        </div>\n\n        <div style={styles.formGroup}>\n          <label style={styles.label}>\n            Type:\n            <select\n              value={type}\n              onChange={(e) => setType(e.target.value)}\n              style={styles.select}\n            >\n              <option value=\"Selling\">Selling</option>\n              <option value=\"Buying\">Buying</option>\n            </select>\n          </label>\n        </div>\n      </div>\n\n      {error && <p style={styles.error}>{error}</p>} {/* Show error message if any */}\n      <button type=\"submit\" style={styles.button} disabled={isLoading}>\n        {isLoading ? \"Posting...\" : \"Post\"} {/* Show loading state */}\n      </button>\n\n      <button \n        type=\"button\" \n        style={styles.cancelButton} \n        onClick={onCancel} // Call the cancel function passed from the parent\n      >\n        Cancel\n      </button>\n    </form>\n  );\n}\n\nconst styles = {\n  form: {\n    marginTop: \"20px\",\n    padding: \"20px\",\n    border: \"1px solid #ddd\",\n    borderRadius: \"8px\",\n    backgroundColor: \"#D5D5D5\",\n    maxWidth: \"600px\",\n    margin: \"20px auto\",\n  },\n  formGroup: {\n    marginBottom: \"15px\",\n    textAlign: \"left\",\n  },\n  formGroupRow: {\n    display: \"flex\",\n    justifyContent: \"space-around\",  \n    gap: \"5px\",\n  },\n  label: {\n    display: \"block\",\n    fontSize: \"1rem\",\n    fontWeight: \"bold\",\n    marginBottom: \"5px\",\n  },\n  input: {\n    width: \"calc(100% - 10px)\",  // Adjust width to allow space for padding\n    padding: \"10px\",\n    fontSize: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n    marginRight: \"5px\",\n  },\n  \n  select: {\n    width: \"100%\",\n    padding: \"10px\",\n    fontSize: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n  },\n  textarea: {\n    width: \"100%\",\n    height: \"100px\",\n    padding: \"10px\",\n    fontSize: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n    resize: \"none\",\n  },\n  button: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px\",\n    fontSize: \"1.2rem\",\n    backgroundColor: \"#A5CBC3\",\n    color: \"#353839\",\n    border: \"none\",\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    transition: \"background-color 0.3s ease\",\n  },\n  cancelButton: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px\",\n    fontSize: \"1.2rem\",\n    color: \"#A5CBC3\",\n    backgroundColor: \"#353839\", // Red background\n    border: \"none\",\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    marginTop: \"10px\", // Add margin for spacing\n    transition: \"background-color 0.3s ease\",\n  },\n  error: {\n    color: \"red\",\n    fontSize: \"1rem\",\n    fontWeight: \"bold\",\n    marginTop: \"10px\",\n  },\n};\n\nexport default PostForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}